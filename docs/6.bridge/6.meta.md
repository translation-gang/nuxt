---
title: "Мета-теги"
description: "Миграция мета-тегов с Nuxt 2 на Nuxt Bridge."
---

Если нужен доступ к состоянию компонента в `head`, переходите на [`useHead`](/docs/4.x/api/composables/use-head).

Для Options API доступен метод `head()` при использовании `defineNuxtComponent`.

## Миграция

### Включите `bridge.meta`

```js
import { defineNuxtConfig } from '@nuxt/bridge'

export default defineNuxtConfig({
  bridge: {
    meta: true,
    nitro: false, // После перехода на Nitro установите true
  },
})
```

### Обновите свойства head

В `nuxt.config` переименуйте `head` в `app.head`. (Ключ `hid` для дедупликации больше не используется.)

::code-group

```ts [Nuxt 2]
export default {
  head: {
    titleTemplate: '%s - Nuxt',
    meta: [
      { charset: 'utf-8' },
      { name: 'viewport', content: 'width=device-width, initial-scale=1' },
      { hid: 'description', name: 'description', content: 'Meta description' },
    ],
  },
}
```

```ts [Nuxt 3]
export default defineNuxtConfig({
  app: {
    head: {
      titleTemplate: '%s - Nuxt',
      meta: [
        { charset: 'utf-8' },
        { name: 'viewport', content: 'width=device-width, initial-scale=1' },
        { name: 'description', content: 'Meta description' },
      ],
    },
  },
})
```

::

## Композабл `useHead`

Nuxt Bridge предоставляет API мета Nuxt 3 через композабл [`useHead`](/docs/4.x/api/composables/use-head).

```vue
<script setup lang="ts">
useHead({
  title: 'My Nuxt App',
})
</script>
```

::tip
Композабл [`useHead`](/docs/4.x/api/composables/use-head) использует под капотом `@unhead/vue` (а не `vue-meta`) для управления `<head>`.
::

::warning
Не рекомендуется одновременно использовать нативные свойства `head()` Nuxt 2 и [`useHead`](/docs/4.x/api/composables/use-head) — возможны конфликты.
::

Подробнее: [документация](/docs/4.x/getting-started/seo-meta).

## Поддержка Options API

```vue
<script>
// при использовании метода head в Options API нужен defineNuxtComponent
export default defineNuxtComponent({
  head (nuxtApp) {
    // head получает nuxtApp, но не имеет доступа к экземпляру компонента
    return {
      meta: [{
        name: 'description',
        content: 'Описание моей страницы.',
      }],
    }
  },
})
</script>
```

::warning
Возможное breaking change: `head` получает nuxt app, но не имеет доступа к экземпляру компонента. Если в `head` используется `this` или `this.$data`, переходите на композабл `useHead`.
::

## Шаблон заголовка

Если нужна функция (полный контроль), задавать её в nuxt.config нельзя — задавайте в каталоге `/layouts`.

```vue [app/layouts/default.vue]
<script setup lang="ts">
useHead({
  titleTemplate: (titleChunk) => {
    return titleChunk ? `${titleChunk} - Название сайта` : 'Название сайта'
  },
})
</script>
```
