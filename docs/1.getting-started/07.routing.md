---
title: 'Маршрутизация'
description: 'Файловая маршрутизация Nuxt создаёт маршрут для каждого файла в директории pages/.'
navigation.icon: i-lucide-milestone
---

Одна из ключевых возможностей Nuxt — файловый роутер. Каждый Vue-файл в [`app/pages/`](/docs/4.x/directory-structure/app/pages) создаёт соответствующий URL (маршрут), по которому отображается содержимое файла. Nuxt использует динамические импорты и code-splitting, чтобы отдавать минимум JavaScript для запрошенного маршрута.

## Страницы

Маршрутизация Nuxt построена на [vue-router](https://router.vuejs.org); маршруты генерируются из компонентов в [директории `app/pages/`](/docs/4.x/directory-structure/app/pages) по именам файлов.

Используются соглашения об именовании для динамических и вложенных маршрутов:

::code-group

```bash [Структура каталогов]
-| pages/
---| about.vue
---| index.vue
---| posts/
-----| [id].vue
```

```json [Сгенерированный роутер]
{
  "routes": [
    {
      "path": "/about",
      "component": "pages/about.vue"
    },
    {
      "path": "/",
      "component": "pages/index.vue"
    },
    {
      "path": "/posts/:id",
      "component": "pages/posts/[id].vue"
    }
  ]
}
```

::

:read-more{to="/docs/4.x/directory-structure/app/pages"}

## Навигация

Компонент [`<NuxtLink>`](/docs/4.x/api/components/nuxt-link) связывает страницы между собой. Он рендерит тег `<a>` с `href`, равным маршруту страницы. После гидрации приложения переходы выполняются на JavaScript при изменении URL, без полной перезагрузки страницы и с возможностью анимаций.

Когда [`<NuxtLink>`](/docs/4.x/api/components/nuxt-link) попадает в зону видимости на клиенте, Nuxt заранее подгружает компоненты и payload связанных страниц — навигация становится быстрее.

```vue [app/pages/index.vue]
<template>
  <header>
    <nav>
      <ul>
        <li><NuxtLink to="/about">About</NuxtLink></li>
        <li><NuxtLink to="/posts/1">Post 1</NuxtLink></li>
        <li><NuxtLink to="/posts/2">Post 2</NuxtLink></li>
      </ul>
    </nav>
  </header>
</template>
```

:read-more{to="/docs/4.x/api/components/nuxt-link"}

## Параметры маршрута

Композабл [`useRoute()`](/docs/4.x/api/composables/use-route) даёт доступ к текущему маршруту в блоке `<script setup>` или в методе `setup()` компонента Vue.

```vue twoslash [pages/posts/[id\\].vue]
<script setup lang="ts">
const route = useRoute()

// При переходе на /posts/1 значение route.params.id будет 1
console.log(route.params.id)
</script>
```

:read-more{to="/docs/4.x/api/composables/use-route"}

## Middleware маршрутов

Nuxt предоставляет настраиваемый middleware для маршрутов — код, который выполняется перед переходом на заданный маршрут.

::note
Middleware маршрутов выполняется во Vue-части приложения Nuxt. Не путайте с server middleware, который работает в Nitro-серверной части.
::

::important
Middleware маршрутов **не** выполняется для серверных маршрутов (например `/api/*`) и других серверных запросов. Для них используйте [server middleware](/docs/4.x/directory-structure/server#server-middleware).
::

Есть три вида middleware маршрутов:

1. **Анонимный (inline)** — определяется прямо на странице.
2. **Именованный** — файлы в [`app/middleware/`](/docs/4.x/directory-structure/app/middleware), подгружаются асинхронно при использовании на странице. (Имя нормализуется в kebab-case: `someMiddleware` → `some-middleware`.)
3. **Глобальный** — файлы в [`app/middleware/`](/docs/4.x/directory-structure/app/middleware) с суффиксом `.global`, выполняются при каждом переходе.

Пример middleware `auth` для защиты страницы `/dashboard`:

::code-group

```ts twoslash [middleware/auth.ts]
function isAuthenticated (): boolean { return false }
// ---cut---
export default defineNuxtRouteMiddleware((to, from) => {
  // isAuthenticated() — пример проверки аутентификации
  if (isAuthenticated() === false) {
    return navigateTo('/login')
  }
})
```

```vue twoslash [pages/dashboard.vue]
<script setup lang="ts">
definePageMeta({
  middleware: 'auth',
})
</script>

<template>
  <h1>Welcome to your dashboard</h1>
</template>
```

::

:read-more{to="/docs/4.x/directory-structure/app/middleware"}

## Валидация маршрута

Валидация маршрута задаётся свойством `validate` в [`definePageMeta()`](/docs/4.x/api/utils/define-page-meta) на нужной странице.

`validate` получает `route`. Верните `true`/`false`, чтобы разрешить или запретить рендер этой страницы для маршрута. При `false` будет 404. Можно вернуть объект с `status`/`statusText` для кастомной ошибки.

Для сложной логики используйте анонимный middleware маршрута.

```vue twoslash [pages/posts/[id\\].vue]
<script setup lang="ts">
definePageMeta({
  validate (route) {
    // Проверка: id состоит из цифр
    return typeof route.params.id === 'string' && /^\d+$/.test(route.params.id)
  },
})
</script>
```

:read-more{to="/docs/4.x/api/utils/define-page-meta"}
