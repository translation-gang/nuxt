---
title: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
description: –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Nuxt.
navigation.icon: i-ph-check-circle-duotone
---

::tip
–ï—Å–ª–∏ –≤—ã —è–≤–ª—è–µ—Ç–µ—Å—å –∞–≤—Ç–æ—Ä–æ–º –º–æ–¥—É–ª—è, –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ –≤ [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ –∞–≤—Ç–æ—Ä–∞ –º–æ–¥—É–ª—è](/docs/guide/going-further/modules#testing).
::

Nuxt –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –ø–µ—Ä–≤–æ–∫–ª–∞—Å—Å–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É –¥–ª—è —Å–∫–≤–æ–∑–Ω–æ–≥–æ (end-to-end) –∏ —é–Ω–∏—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Nuxt —Å –ø–æ–º–æ—â—å—é `@nuxt/test-utils`, –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö —É—Ç–∏–ª–∏—Ç –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç [—Ç–µ—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –≤ —Å–∞–º–æ–º Nuxt](https://github.com/nuxt/nuxt/tree/main/test ) –∏ —Ç–µ—Å—Ç—ã –ø–æ –≤—Å–µ–π —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ –º–æ–¥—É–ª–µ–π.

::tip{icon="i-ph-video-duotone" to="https://www.youtube.com/watch?v=yGzwk9xi9gU" target="_blank"}
–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤–∏–¥–µ–æ –æ—Ç –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ –õ–∏—Ö—Ç–µ—Ä–∞ –æ –Ω–∞—á–∞–ª–µ —Ä–∞–±–æ—Ç—ã —Å `@nuxt/test-utils`.
::

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–ß—Ç–æ–±—ã –≤—ã –º–æ–≥–ª–∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –¥—Ä—É–≥–∏–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, `@nuxt/test-utils` –ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ —Ä–∞–≤–Ω–æ–∑–Ω–∞—á–Ω—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏. –ù–∞–ø—Ä–∏–º–µ—Ä:

- –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å –º–µ–∂–¥—É `happy-dom` –∏ `jsdom` –¥–ª—è runtime Nuxt
- –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å –º–µ–∂–¥—É `vitest`, `cucumber`, `jest` –∏ `playwright` –¥–ª—è —Å–∫–≤–æ–∑–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
- `playwright-core` —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –≤ –±—Ä–∞—É–∑–µ—Ä —É—Ç–∏–ª–∏—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `@playwright/test` –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤)

::code-group
```bash [yarn]
yarn add --dev @nuxt/test-utils vitest @vue/test-utils happy-dom playwright-core
```
```bash [npm]
npm i --save-dev @nuxt/test-utils vitest @vue/test-utils happy-dom playwright-core
```
```bash [pnpm]
pnpm add -D @nuxt/test-utils vitest @vue/test-utils happy-dom playwright-core
```
```bash [bun]
bun add --dev @nuxt/test-utils vitest @vue/test-utils happy-dom playwright-core
```
::

## –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ú—ã –ø–æ—Å—Ç–∞–≤–ª—è–µ–º —Å—Ä–µ–¥—É –¥–ª—è –∫–æ–¥–∞ –º–æ–¥—É–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä–æ–º—É –Ω—É–∂–Ω–∞ —Å—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è [Nuxt](https://nuxt.com). –í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –æ–Ω–∞ _–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ `vitest`_ (—Ö–æ—Ç—è –≤–∫–ª–∞–¥ –≤ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥—Ä—É–≥–∏—Ö —Å—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –±—É–¥–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å—Å—è).

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. –î–æ–±–∞–≤—å—Ç–µ `@nuxt/test-utils/module` –≤ —Ñ–∞–π–ª `nuxt.config` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ). –≠—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é Vitest –≤ Nuxt DevTools, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∑–∞–ø—É—Å–∫ –≤–∞—à–∏—Ö –º–æ–¥—É–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

   ```ts twoslash
   export default defineNuxtConfig({
     modules: [
       '@nuxt/test-utils/module'
     ]
   })
   ```

2. –°–æ–∑–¥–∞–π—Ç–µ `vitest.config.ts` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:

   ```ts twoslash
   import { defineVitestConfig } from '@nuxt/test-utils/config'

   export default defineVitestConfig({
     // –ª—é–±–∞—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Vitest
   })
   ```

::tip
–ü—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ `@nuxt/test-utils` –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é vitest, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å `"type": "module"` –≤ `package.json` –∏–ª–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ vitest —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º.
> –¢.–µ. `vitest.config.m{ts,js}`.
::

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ä–µ–¥—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è Nuxt

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é, `@nuxt/test-utils` –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç –æ–∫—Ä—É–∂–µ–Ω–∏–µ Vitest, –ø–æ—ç—Ç–æ–º—É –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã Nuxt –≤–º–µ—Å—Ç–µ —Å –¥—Ä—É–≥–∏–º–∏ —é–Ω–∏—Ç-—Ç–µ—Å—Ç–∞–º–∏.

–í—ã –º–æ–∂–µ—Ç–µ –≤–∫–ª—é—á–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ Nuxt, –¥–æ–±–∞–≤–∏–≤ `.nuxt.` –∫ –∏–º–µ–Ω–∏ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `my-file.nuxt.test.ts` –∏–ª–∏ `my-file.nuxt.spec.ts`) –∏–ª–∏ –¥–æ–±–∞–≤–∏–≤ `@vitest-environment nuxt` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ñ–∞–π–ª–µ.

   ```ts twoslash
   // @vitest-environment nuxt
   import { test } from 'vitest'

   test('my test', () => {
     // ... —Ç–µ—Å—Ç –≤ —Å—Ä–µ–¥–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è Nuxt!
   })
   ```

–í –∫–∞—á–µ—Å—Ç–≤–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã –≤—ã –º–æ–∂–µ—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `environment: 'nuxt'` –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Vitest, —á—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ Nuxt –¥–ª—è **–≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤**.

```ts twoslash
// vitest.config.ts
import { fileURLToPath } from 'node:url'
import { defineVitestConfig } from '@nuxt/test-utils/config'

export default defineVitestConfig({
  test: {
    environment: 'nuxt',
    // –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ –∂–µ–ª–∞–Ω–∏—é –∑–∞–¥–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–∫—Ä—É–∂–µ–Ω–∏—è, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è Nuxt
    // environmentOptions: {
    //   nuxt: {
    //     rootDir: fileURLToPath(new URL('./playground', import.meta.url)),
    //     domEnvironment: 'happy-dom', // 'happy-dom' (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) –∏–ª–∏ 'jsdom'
    //     overrides: {
    //       // –¥—Ä—É–≥–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Nuxt, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ–¥–∞—Ç—å
    //     }
    //   }
    // }
  }
})
```

–ï—Å–ª–∏ –≤—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ `environment: 'nuxt'` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –≤—ã –º–æ–∂–µ—Ç–µ _–æ—Ç–∫–∞–∑–∞—Ç—å—Å—è_ –æ—Ç [–æ–∫—Ä—É–∂–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é](https://vitest.dev/guide/environment.html#test-environment) –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞ –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

```ts twoslash
// @vitest-environment node
import { test } from 'vitest'

test('my test', () => {
  // ... —Ç–µ—Å—Ç –±–µ–∑ –æ–∫—Ä—É–∂–µ–Ω–∏—è Nuxt!
})
```

::warning
–ö–æ–≥–¥–∞ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ —Ç–µ—Å—Ç—ã –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–∏ Nuxt, –æ–Ω–∏ –±—É–¥—É—Ç –∑–∞–ø—É—â–µ–Ω—ã –≤ —Å—Ä–µ–¥–µ [`happy-dom`](https://github.com/capricorn86/happy-dom) –∏–ª–∏ [`jsdom`](https://github.com/jsdom/jsdom). –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –≤–∞—à–∏—Ö —Ç–µ—Å—Ç–æ–≤ –±—É–¥–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –≥–ª–æ–±–∞–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Nuxt (–≤–∫–ª—é—á–∞—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–ø—É—Å–∫ –ª—é–±—ã—Ö –ø–ª–∞–≥–∏–Ω–æ–≤ –∏–ª–∏ –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ –≤ —Å–≤–æ–µ–º `app.vue`).

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤–∞–º —Å–ª–µ–¥—É–µ—Ç –ø—Ä–æ—è–≤–ª—è—Ç—å –æ—Å–æ–±—É—é –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å, —á—Ç–æ–±—ã –Ω–µ –∏–∑–º–µ–Ω—è—Ç—å –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ —Å–≤–æ–∏—Ö —Ç–µ—Å—Ç–∞—Ö (–∏–ª–∏, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å –µ–≥–æ –≤–ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–∏).
::

### üé≠ –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–æ–∫–∏

`@nuxt/test-utils` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –º–æ–∫–æ–≤ –¥–ª—è —Å—Ä–µ–¥—ã DOM.

#### `intersectionObserver`

–ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é - `true`, —Å–æ–∑–¥–∞–µ—Ç —Ñ–∏–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –±–µ–∑ –∫–∞–∫–æ–π-–ª–∏–±–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è IntersectionObserver API

#### `indexedDB`

–ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é - `false`, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è [`fake-indexeddb`](https://github.com/dumbmatter/fakeIndexedDB) –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –∏–º–∏—Ç–∞—Ü–∏–∏ API IndexedDB.

–ò—Ö –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤ —Ä–∞–∑–¥–µ–ª–µ `environmentOptions` —Ñ–∞–π–ª–∞ `vitest.config.ts`:

```ts twoslash
import { defineVitestConfig } from '@nuxt/test-utils/config'

export default defineVitestConfig({
  test: {
    environmentOptions: {
      nuxt: {
        mock: {
          intersectionObserver: true,
          indexedDb: true,
        }
      }
    }
  }
})
```

### üõ†Ô∏è –•—ç–ª–ø–µ—Ä—ã

`@nuxt/test-utils` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ä—è–¥ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π Nuxt.

#### `mountSuspended`

`mountSuspended` –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ª—é–±–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Vue –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–µ Nuxt, –ø–æ–∑–≤–æ–ª—è—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É –∏ –¥–æ—Å—Ç—É–ø –∫ –∏–Ω—ä–µ–∫—Ü–∏—è–º –∏–∑ –ø–ª–∞–≥–∏–Ω–æ–≤ Nuxt. –ù–∞–ø—Ä–∏–º–µ—Ä:

```ts twoslash
import { it, expect } from 'vitest'
import type { Component } from 'vue'
declare module '#components' {
  export const SomeComponent: Component
}
// ---cut---
// tests/components/SomeComponents.nuxt.spec.ts
import { mountSuspended } from '@nuxt/test-utils/runtime'
import { SomeComponent } from '#components'

it('can mount some component', async () => {
    const component = await mountSuspended(SomeComponent)
    expect(component.text()).toMatchInlineSnapshot(
        '"–≠—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç."'
    )
})

```

```ts twoslash
import { it, expect } from 'vitest'
// ---cut---
// tests/components/SomeComponents.nuxt.spec.ts
import { mountSuspended } from '@nuxt/test-utils/runtime'
import App from '~/app.vue'

// tests/App.nuxt.spec.ts
it('can also mount an app', async () => {
    const component = await mountSuspended(App, { route: '/test' })
    expect(component.html()).toMatchInlineSnapshot(`
      "<div>–≠—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç</div>
      <div> –Ø –≥–ª–æ–±–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç </div>
      <div>/</div>
      <a href="/test"> –¢–µ—Å—Ç–æ–≤–∞—è —Å—Å—ã–ª–∫–∞ </a>"
    `)
})
```

#### `renderSuspended`

`renderSuspended` –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Ä–∏—Å–æ–≤–∞—Ç—å –ª—é–±–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Vue –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–∏ Nuxt —Å –ø–æ–º–æ—â—å—é `@testing-library/vue`, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É –∏ –¥–æ—Å—Ç—É–ø –∫ –∏–Ω—ä–µ–∫—Ü–∏—è–º –∏–∑ –ø–ª–∞–≥–∏–Ω–æ–≤ Nuxt.

`renderSuspended` —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–º–µ—Å—Ç–µ —Å —É—Ç–∏–ª–∏—Ç–∞–º–∏ –∏–∑ Testing Library, –Ω–∞–ø—Ä–∏–º–µ—Ä `screen` –∏ `fireEvent`. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ [@testing-library/vue](https://testing-library.com/docs/vue-testing-library/intro) –≤ —Å–≤–æ–π –ø—Ä–æ–µ–∫—Ç, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö.
–ö—Ä–æ–º–µ —Ç–æ–≥–æ, Testing Library —Ç–∞–∫–∂–µ –ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –æ—á–∏—Å—Ç–∫–∏. –í–∞–º —Å–ª–µ–¥—É–µ—Ç –≤–∫–ª—é—á–∏—Ç—å –∏—Ö –≤ [–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Vitest](https://vitest.dev/config/#globals).

–ü–µ—Ä–µ–¥–∞–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω –≤–Ω—É—Ç—Ä–∏ `<div id="test-wrapper"></div>`.

–ü—Ä–∏–º–µ—Ä—ã:

```ts twoslash
import { it, expect } from 'vitest'
import type { Component } from 'vue'
declare module '#components' {
  export const SomeComponent: Component
}
// ---cut---
// tests/components/SomeComponents.nuxt.spec.ts
import { renderSuspended } from '@nuxt/test-utils/runtime'
import { SomeComponent } from '#components'
import { screen } from '@testing-library/vue'

it('can render some component', async () => {
  await renderSuspended(SomeComponent)
  expect(screen.getByText('–≠—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç')).toBeDefined()
})
```

```ts twoslash
import { it, expect } from 'vitest'
// ---cut---
// tests/App.nuxt.spec.ts
import { renderSuspended } from '@nuxt/test-utils/runtime'
import App from '~/app.vue'

it('can also render an app', async () => {
  const html = await renderSuspended(App, { route: '/test' })
  expect(html).toMatchInlineSnapshot(`
    "<div id="test-wrapper">
      <div>–≠—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç</div>
      <div> –Ø –≥–ª–æ–±–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç </div>
      <div>–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</div><a href="/test"> –¢–µ—Å—Ç–æ–≤–∞—è —Å—Å—ã–ª–∫–∞ </a>
    </div>"
  `)
})
```

#### `mockNuxtImport`

`mockNuxtImport` –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º –∏–º–∏—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞ Nuxt. –ù–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –∏–º–∏—Ç–∏—Ä–æ–≤–∞—Ç—å `useStorage`, –≤—ã –º–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ —Å–ª–µ–¥—É—é—â–µ–µ:

```ts twoslash
import { mockNuxtImport } from '@nuxt/test-utils/runtime'

mockNuxtImport('useStorage', () => {
  return () => {
    return { value: 'mocked storage' }
  }
})

// –∑–¥–µ—Å—å –≤–∞—à–∏ —Ç–µ—Å—Ç—ã
```

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: `mockNuxtImport` –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –º–æ–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª. –ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —ç—Ç–æ –º–∞–∫—Ä–æ—Å, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ `vi.mock`, –∞ `vi.mock` –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è, –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–æ [–∑–¥–µ—Å—å](https://vitest.dev/api/vi.html#vi-mock).

–ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ –∏–º–∏—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–º–ø–æ—Ä—Ç Nuxt –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å —Ä–∞–∑–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É —Ç–µ—Å—Ç–∞–º–∏, –≤—ã –º–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ, —Å–æ–∑–¥–∞–≤ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏–≤ —Å–≤–æ–∏ –º–æ–∫–∏ —Å –ø–æ–º–æ—â—å—é [`vi.hoisted`](https://vitest.dev/api/vi.html#vi-hoisted), –∞ –∑–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–∏ –º–æ–∫–∏ –≤ `mockNuxtImport`. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ, –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –º–æ–∫–∞–º –∏–º–ø–æ—Ä—Ç–æ–≤ –∏ –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω—è—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –º–µ–∂–¥—É —Ç–µ—Å—Ç–∞–º–∏. –ë—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã, [–≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—è –º–æ–∫–∏](https://vitest.dev/api/mock.html#mockrestore) –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞, —á—Ç–æ–±—ã –æ—Ç–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–æ–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏.

```ts twoslash
import { vi } from 'vitest'
import { mockNuxtImport } from '@nuxt/test-utils/runtime'

const { useStorageMock } = vi.hoisted(() => {
  return {
    useStorageMock: vi.fn().mockImplementation(() => {
      return { value: 'mocked storage'}
    })
  }
})

mockNuxtImport('useStorage', () => {
  return useStorageMock
})

// –ó–∞—Ç–µ–º, –≤–Ω—É—Ç—Ä–∏ —Ç–µ—Å—Ç–∞
useStorageMock.mockImplementation(() => {
  return { value: 'something else' }
})
```

#### `mockComponent`

`mockComponent` –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º –∏–º–∏—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Nuxt.
–ü–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–º–µ–Ω–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤ PascalCase –∏–ª–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–º –ø—É—Ç–µ–º –∫ –Ω–µ–º—É.
–í—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç ‚Äî —ç—Ç–æ —Ñ–∞–±—Ä–∏—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ–∏–∫—Ç–∏–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.

–ù–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –º–æ–∫ `MyComponent`, –≤—ã –º–æ–∂–µ—Ç–µ:

```ts twoslash
import { mockComponent } from '@nuxt/test-utils/runtime'

mockComponent('MyComponent', {
  props: {
    value: String
  },
  setup(props) {
    // ...
  }
})

// –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å –∏–ª–∏ –ø—Å–µ–≤–¥–æ–Ω–∏–º —Ç–∞–∫–∂–µ —Ä–∞–±–æ—Ç–∞—é—Ç
mockComponent('~/components/my-component.vue', async () => {
  // –∏–ª–∏ —Ñ–∞–±—Ä–∏—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
  return defineComponent({
    setup(props) {
      // ...
    }
  })
})

// –∏–ª–∏ –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SFC –¥–ª—è –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞ –º–æ–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
mockComponent('MyComponent', () => import('./MockComponent.vue'))

// –∑–¥–µ—Å—å –≤–∞—à–∏ —Ç–µ—Å—Ç—ã
```

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ —Ñ–∞–±—Ä–∏—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –ø–æ–¥–Ω—è—Ç—ã. –ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ API Vue –∏–ª–∏ –¥—Ä—É–≥–∏–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º, –≤–∞–º –Ω—É–∂–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –≤ —Ñ–∞–±—Ä–∏—á–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é.

```ts twoslash
import { mockComponent } from '@nuxt/test-utils/runtime'

mockComponent('MyComponent', async () => {
  const { ref, h } = await import('vue')

  return defineComponent({
    setup(props) {
      const counter = ref(0)
      return () => h('div', null, counter.value)
    }
  })
})
```

#### `registerEndpoint`

`registerEndpoint` –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º —Å–æ–∑–¥–∞—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç Nitro, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–º–∏—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ. –≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≥–æ–¥–∏—Ç—å—Å—è, –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ API –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

–ü–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç ‚Äî —ç—Ç–æ –∏–º—è —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `/test/`).
–í—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è-—Ñ–∞–±—Ä–∏–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–º–∏—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

–ù–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –∏–º–∏—Ç–∏—Ä–æ–≤–∞—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç `/test/`, –≤—ã –º–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ:

```ts twoslash
import { registerEndpoint } from '@nuxt/test-utils/runtime'

registerEndpoint('/test/', () => ({
  test: 'test-field'
}))
```

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∑–∞–ø—Ä–æ—Å –±—É–¥–µ—Ç —Å–¥–µ–ª–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–µ—Ç–æ–¥–∞ `GET`. –í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –º–µ—Ç–æ–¥, —É—Å—Ç–∞–Ω–æ–≤–∏–≤ –æ–±—ä–µ–∫—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤—Ç–æ—Ä–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –≤–º–µ—Å—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏.

```ts twoslash
import { registerEndpoint } from '@nuxt/test-utils/runtime'

registerEndpoint('/test/', {
  method: 'POST',
  handler: () => ({ test: 'test-field' })
})
```

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ï—Å–ª–∏ –≤–∞—à–∏ –∑–∞–ø—Ä–æ—Å—ã –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∫ –≤–Ω–µ—à–Ω–µ–º—É API, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `baseURL`, –∞ –∑–∞—Ç–µ–º —Å–¥–µ–ª–∞—Ç—å –µ–≥–æ –ø—É—Å—Ç—ã–º —Å –ø–æ–º–æ—â—å—é [Nuxt Environment Override Config](/docs/getting-started/configuration#environment-overrides) (`$test`), —á—Ç–æ–±—ã –≤—Å–µ –≤–∞—à–∏ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞–ø—Ä–∞–≤–ª—è–ª–∏—Å—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä Nitro.
> 
#### –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å–æ —Å–∫–≤–æ–∑–Ω—ã–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º

`@nuxt/test-utils/runtime` –∏ `@nuxt/test-utils/e2e` –¥–æ–ª–∂–Ω—ã –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å—Ä–µ–¥–∞—Ö, –ø–æ—ç—Ç–æ–º—É –∏—Ö –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ.

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ —Å–∫–≤–æ–∑–Ω—É—é, —Ç–∞–∫ –∏ –º–æ–¥—É–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è `@nuxt/test-utils`, –≤—ã –º–æ–∂–µ—Ç–µ —Ä–∞–∑–¥–µ–ª–∏—Ç—å —Å–≤–æ–∏ —Ç–µ—Å—Ç—ã –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã. –ó–∞—Ç–µ–º –≤—ã –ª–∏–±–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ä–µ–¥—É –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ —Å –ø–æ–º–æ—â—å—é —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è `// @vitest-environment nuxt`, –ª–∏–±–æ –Ω–∞–∑—ã–≤–∞–µ—Ç–µ —Ñ–∞–π–ª—ã –º–æ–¥—É–ª—å–Ω—ã—Ö runtime —Ç–µ—Å—Ç–æ–≤ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º `.nuxt.spec.ts`.

`app.nuxt.spec.ts`

```ts twoslash
import { mockNuxtImport } from '@nuxt/test-utils/runtime'

mockNuxtImport('useStorage', () => {
  return () => {
    return { value: 'mocked storage' }
  }
})

```

`app.e2e.spec.ts`

```ts twoslash
import { setup, $fetch } from '@nuxt/test-utils/e2e'

await setup({
  setupTimeout: 10000,
})

// ...
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `@vue/test-utils`

–ï—Å–ª–∏ –≤—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `@vue/test-utils` –æ—Ç–¥–µ–ª—å–Ω–æ –¥–ª—è —é–Ω–∏—Ç-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ Nuxt –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç–µ —Ç–æ–ª—å–∫–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø–æ–ª–∞–≥–∞—é—Ç—Å—è –Ω–∞ –∫–æ–º–ø–æ–∑–∞–±–ª—ã Nuxt, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –∏–ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç, –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è –µ–≥–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

   ::code-group
   ```bash [yarn]
   yarn add --dev vitest @vue/test-utils happy-dom @vitejs/plugin-vue
   ```
   ```bash [npm]
   npm i --save-dev vitest @vue/test-utils happy-dom @vitejs/plugin-vue
   ```
   ```bash [pnpm]
   pnpm add -D vitest @vue/test-utils happy-dom @vitejs/plugin-vue
   ```
   ```bash [bun]
   bun add --dev vitest @vue/test-utils happy-dom @vitejs/plugin-vue
   ```
   ::

2. –°–æ–∑–¥–∞–π—Ç–µ `vitest.config.ts` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:

   ```ts twoslash
   import { defineConfig } from 'vitest/config'
   import vue from '@vitejs/plugin-vue'

   export default defineConfig({
     plugins: [vue()],
     test: {
       environment: 'happy-dom',
     },
   });
   ```

3. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é –∫–æ–º–∞–Ω–¥—É –¥–ª—è —Ç–µ—Å—Ç–∞ –≤ –≤–∞—à `package.json`

   ```json
   "scripts": {
     "build": "nuxt build",
     "dev": "nuxt dev",
     ...
     "test": "vitest"
   },
   ```

4. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Å—Ç–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `<HelloWorld>` `components/HelloWorld.vue` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:

   ```vue
   <template>
     <p>–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!</p>
   </template>
   ```

5. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Å—Ç–æ–π –º–æ–¥—É–ª—å–Ω—ã–π —Ç–µ—Å—Ç –¥–ª—è —ç—Ç–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. `~/components/HelloWorld.spec.ts`

   ```ts twoslash
   import { describe, it, expect } from 'vitest'
   import { mount } from '@vue/test-utils'

   import HelloWorld from './HelloWorld.vue'

   describe('HelloWorld', () => {
     it('component renders Hello world properly', () => {
       const wrapper = mount(HelloWorld)
       expect(wrapper.text()).toContain('–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!')
     })
   })
   ```

6. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–º–∞–Ω–¥—É vitest

   ::code-group
   ```bash [yarn]
   yarn test
   ```
   ```bash [npm]
   npm run test
   ```
   ```bash [pnpm]
   pnpm run test
   ```
   ```bash [bun]
   bun run test
   ```
   ::

–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º, –≤—ã –≥–æ—Ç–æ–≤—ã –Ω–∞—á–∞—Ç—å –º–æ–¥—É–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å `@vue/test-utils` –≤ Nuxt! –£–¥–∞—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è!

## –°–∫–≤–æ–∑–Ω–æ–µ (End-To-End) –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è —Å–∫–≤–æ–∑–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ç–µ—Å—Ç-—Ä–∞–Ω–Ω–µ—Ä–æ–≤: [Vitest](https://github.com/vitest-dev/vitest), [Jest](https://jestjs.io), [Cucumber](https://cucumber.io/) –∏ [Playwright](https://playwright.dev/).

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–í –∫–∞–∂–¥–æ–º –±–ª–æ–∫–µ `describe`, –≥–¥–µ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã `@nuxt/test-utils/e2e`, –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º.

```ts twoslash [test/my-test.spec.ts]
import { describe, test } from 'vitest'
import { setup, $fetch } from '@nuxt/test-utils/e2e'

describe('My test', async () => {
  await setup({
    // –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
  })

  test('my test', () => {
    // ...
  })
})
```

"–ó–∞ –∫—É–ª–∏—Å–∞–º–∏" `setup` –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ä—è–¥ –∑–∞–¥–∞—á –≤ `beforeAll`, `beforeEach`, `afterEach` –∏ `afterAll` –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ä–µ–¥—ã Nuxt.

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–µ –Ω–∏–∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –º–µ—Ç–æ–¥–∞ `setup`.

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nuxt

- `rootDir`: –ü—É—Ç—å –∫ –∫–∞—Ç–∞–ª–æ–≥—É —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º Nuxt, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ.
  - –¢–∏–ø: `string`
  - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `'.'`
- `configFile`: –ò–º—è —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.
  - –¢–∏–ø: `string`
  - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `'nuxt.config'`

<!--
- `config`: Object with configuration overrides.
  - –¢–∏–ø: `NuxtConfig`
  - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `{}` -->

#### –¢–∞–π–º–∏–Ω–≥–∏

- `setupTimeout`: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Ä–µ–º–µ–Ω–∏ (–≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö), –æ—Ç–≤–µ–¥–µ–Ω–Ω–æ–µ `setupTest` –Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–≤–æ–µ–π —Ä–∞–±–æ—Ç—ã (–∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –≤–∫–ª—é—á–∞—Ç—å –≤ —Å–µ–±—è —Å–±–æ—Ä–∫—É –∏–ª–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Ñ–∞–π–ª–æ–≤ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Nuxt, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤).
  - –¢–∏–ø: `number`
  - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `60000`

#### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- `server`: –°–ª–µ–¥—É–µ—Ç –ª–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å —Å–µ—Ä–≤–µ—Ä –¥–ª—è –æ—Ç–≤–µ—Ç–∞ –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã –≤ –Ω–∞–±–æ—Ä–µ —Ç–µ—Å—Ç–æ–≤.
  - –¢–∏–ø: `boolean`
  - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `true`

- `port`: –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω–æ, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ—Ä—Ç –∑–∞–ø—É—â–µ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ.
  - –¢–∏–ø: `number | undefined`
  - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `undefined`

- `build`: –°–ª–µ–¥—É–µ—Ç –ª–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π —ç—Ç–∞–ø —Å–±–æ—Ä–∫–∏.
  - –¢–∏–ø: `boolean`
  - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `true` (`false`, –µ—Å–ª–∏ `browser` –∏–ª–∏ `server` –æ—Ç–∫–ª—é—á–µ–Ω—ã)

- `browser`: –ü–æ–¥ –∫–∞–ø–æ—Ç–æ–º Nuxt Test Utils –∏—Å–ø–æ–ª—å–∑—É–µ—Ç [`playwright`](https://playwright.dev) –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –ï—Å–ª–∏ —ç—Ç–∞ –æ–ø—Ü–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞, –±—Ä–∞—É–∑–µ—Ä –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω –∏ –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –≤ –ø–æ—Å–ª–µ–¥—É—é—â–µ–º –Ω–∞–±–æ—Ä–µ —Ç–µ—Å—Ç–æ–≤.
  - –¢–∏–ø: `boolean`
  - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `false`
  
- `browserOptions`
  - –¢–∏–ø: `object` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏
    - `type`: –¢–∏–ø –∑–∞–ø—É—Å–∫–∞–µ–º–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞ - `Chromium`, `Firefox` –∏–ª–∏ `Webkit`
    - `launch`: `object` –æ–ø—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –ø–µ—Ä–µ–¥–∞–Ω—ã playwright –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±—Ä–∞—É–∑–µ—Ä–∞. –°–º. [–ø–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API](https://playwright.dev/docs/api/class-browsertype#browser-type-launch).
  
- `runner`: –£–∫–∞–∂–∏—Ç–µ —Ä–∞–Ω–Ω–µ—Ä–∞ –¥–ª—è –Ω–∞–±–æ—Ä–∞ —Ç–µ—Å—Ç–æ–≤. –í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è [Vitest](https://vitest.dev).
  - –¢–∏–ø: `'vitest' | 'jest' | 'cucumber'`
  - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `'vitest'`

### API

#### `$fetch(url)`

–ü–æ–ª—É—á–∞–µ—Ç HTML-–∫–æ–¥ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–π —Å–µ—Ä–≤–µ—Ä–æ–º.

```ts twoslash
import { $fetch } from '@nuxt/test-utils/e2e'

const html = await $fetch('/')
```

#### `fetch(url)`

–ü–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –æ—Ç—Ä–µ–Ω–¥–µ—Ä–µ–Ω–Ω–æ–π —Å–µ—Ä–≤–µ—Ä–æ–º.

```ts twoslash
import { fetch } from '@nuxt/test-utils/e2e'

const res = await fetch('/')
const { body, headers } = res
```

#### `url(path)`

–ü–æ–ª—É—á–∞–µ—Ç –ø–æ–ª–Ω—ã–π URL-–∞–¥—Ä–µ—Å –∑–∞–¥–∞–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–≤–∫–ª—é—á–∞—è –ø–æ—Ä—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä).

```ts twoslash
import { url } from '@nuxt/test-utils/e2e'

const pageUrl = url('/page')
// 'http://localhost:6840/page'
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

–ú—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Playwright –≤ `@nuxt/test-utils`, –∫–∞–∫ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ, —Ç–∞–∫ –∏ —á–µ—Ä–µ–∑ —Å—Ä–µ–¥—Å—Ç–≤–æ –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ Playwright.

#### `createPage(url)`

–í `vitest`, `jest` –∏–ª–∏ `cucumber` –≤—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –±—Ä–∞—É–∑–µ—Ä–∞ –≤ Playwright —Å –ø–æ–º–æ—â—å—é `createPage` –∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) —É–∫–∞–∑–∞—Ç—å –µ–º—É –ø—É—Ç—å –æ—Ç —Ä–∞–±–æ—Ç–∞—é—â–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞. –í—ã –º–æ–∂–µ—Ç–µ —É–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ –æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–µ—Ç–æ–¥–∞—Ö API –∏–∑ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Playwright](https://playwright.dev/docs/api/class-page).

```ts twoslash
import { createPage } from '@nuxt/test-utils/e2e'

const page = await createPage('/page')
// –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º—É API Playwright –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `page`
```

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é —Ç–µ—Å—Ç-—Ä–∞–Ω–Ω–µ—Ä–∞ Playwright

–ú—ã —Ç–∞–∫–∂–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º –ø–µ—Ä–≤–æ–∫–ª–∞—Å—Å–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Nuxt –≤ [—Ç–µ—Å—Ç-—Ä–∞–Ω–Ω–µ—Ä–µ Playwright](https://playwright.dev/docs/intro).

::code-group
```bash [yarn]
yarn add --dev @playwright/test @nuxt/test-utils
```
```bash [npm]
npm i --save-dev @playwright/test @nuxt/test-utils
```
```bash [pnpm]
pnpm add -D @playwright/test @nuxt/test-utils
```
```bash [bun]
bun add --dev @playwright/test @nuxt/test-utils
```
::

–í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nuxt —Å —Ç–µ–º–∏ –∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, —á—Ç–æ –∏ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `setup()`, —É–ø–æ–º—è–Ω—É—Ç–æ–π —Ä–∞–Ω–µ–µ –≤ —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ.

```ts [playwright.config.ts]
import { fileURLToPath } from 'node:url'
import { defineConfig, devices } from '@playwright/test'
import type { ConfigOptions } from '@nuxt/test-utils/playwright'

export default defineConfig<ConfigOptions>({
  use: {
    nuxt: {
      rootDir: fileURLToPath(new URL('.', import.meta.url))
    }
  },
  // ...
})
```

::read-more{title="–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏" to="https://github.com/nuxt/test-utils/blob/main/examples/app-playwright/playwright.config.ts" target="_blank"}
::

–í–∞—à —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `expect` –∏ `test` –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –∏–∑ `@nuxt/test-utils/playwright`:

```ts [tests/example.test.ts]
import { expect, test } from '@nuxt/test-utils/playwright'

test('test', async ({ page, goto }) => {
  await goto('/', { waitUntil: 'hydration' })
  await expect(page.getByRole('heading')).toHaveText('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Playwright!')
})
```

–í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–µ—Ä–≤–µ—Ä Nuxt –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ñ–∞–π–ª–µ:

```ts [tests/example.test.ts]
import { expect, test } from '@nuxt/test-utils/playwright'

test.use({
  nuxt: {
    rootDir: fileURLToPath(new URL('..', import.meta.url))
  }
})

test('test', async ({ page, goto }) => {
  await goto('/', { waitUntil: 'hydration' })
  await expect(page.getByRole('heading')).toHaveText('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Playwright!')
})
```
