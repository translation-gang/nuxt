---
title: Конфигурация
description: Nuxt настроен разумными значениями по умолчанию для продуктивной работы.
navigation.icon: i-lucide-cog
---

По умолчанию Nuxt настроен под большинство сценариев. Файл [`nuxt.config.ts`](/docs/4.x/directory-structure/nuxt-config) позволяет переопределить или расширить эту конфигурацию.

## Конфигурация Nuxt

Файл [`nuxt.config.ts`](/docs/4.x/directory-structure/nuxt-config) находится в корне проекта Nuxt и может переопределять или расширять поведение приложения.

Минимальный конфиг экспортирует функцию `defineNuxtConfig` с объектом конфигурации. Хелпер `defineNuxtConfig` доступен глобально без импорта.

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  // My Nuxt config
})
```

Этот файл часто упоминается в документации — например, для добавления скриптов, регистрации модулей или смены режимов рендеринга.

::read-more{to="/docs/4.x/api/configuration/nuxt-config"}
Все опции описаны в **справочнике конфигурации**.
::

::note
Для сборки приложения на Nuxt TypeScript не обязателен. Всё же рекомендуется использовать расширение `.ts` для файла `nuxt.config`: так в IDE будут подсказки и меньше опечаток при редактировании.
::

### Переопределения по окружению

В `nuxt.config` можно задать типизированные переопределения для каждого окружения:

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  $production: {
    routeRules: {
      '/**': { isr: true },
    },
  },
  $development: {
    //
  },
  $env: {
    staging: {
      //
    },
  },
})
```

Чтобы выбрать окружение при запуске команды Nuxt CLI, передайте имя в флаг `--envName`, например: `nuxt build --envName staging`.

Подробнее о механизме переопределений — в документации [`c12`](https://github.com/unjs/c12?tab=readme-ov-file#environment-specific-configuration) (конфигурация по окружениям).

:video-accordion{title="Видео Alexander Lichter про env-aware nuxt.config.ts" videoId="DFZI2iVCrNc"}

::note
При создании слоёв можно также использовать ключ `$meta` для метаданных, которые будут доступны вам или потребителям слоя.
::

### Переменные окружения и приватные токены

API `runtimeConfig` пробрасывает в приложение значения вроде переменных окружения. По умолчанию эти ключи доступны только на сервере. Ключи в `runtimeConfig.public` и `runtimeConfig.app` (используется Nuxt внутренне) доступны и на клиенте.

Значения задаются в `nuxt.config` и могут переопределяться переменными окружения.

::code-group

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  runtimeConfig: {
    // Приватные ключи — только на сервере
    apiSecret: '123',
    // Ключи в public доступны и на клиенте
    public: {
      apiBase: '/api',
    },
  },
})
```

```ini [.env]
# Переопределит значение apiSecret
NUXT_API_SECRET=api_secret_token
```

::

В приложении эти переменные доступны через композабл [`useRuntimeConfig()`](/docs/4.x/api/composables/use-runtime-config).

```vue [app/pages/index.vue]
<script setup lang="ts">
const runtimeConfig = useRuntimeConfig()
</script>
```

:read-more{to="/docs/4.x/guide/going-further/runtime-config"}

## Конфигурация приложения

Файл `app.config.ts` в исходной директории (по умолчанию `app/`) задаёт публичные переменные, определяемые на этапе сборки. В отличие от `runtimeConfig`, их нельзя переопределить переменными окружения.

Минимальный конфиг экспортирует функцию `defineAppConfig` с объектом конфигурации. Хелпер `defineAppConfig` доступен глобально без импорта.

```ts [app/app.config.ts]
export default defineAppConfig({
  title: 'Hello Nuxt',
  theme: {
    dark: true,
    colors: {
      primary: '#ff0000',
    },
  },
})
```

В приложении эти переменные доступны через композабл [`useAppConfig`](/docs/4.x/api/composables/use-app-config).

```vue [app/pages/index.vue]
<script setup lang="ts">
const appConfig = useAppConfig()
</script>
```

:read-more{to="/docs/4.x/directory-structure/app/app-config"}

## `runtimeConfig` и `app.config`

Как уже сказано, и `runtimeConfig`, и `app.config` используются для передачи переменных в приложение. Кратко, когда что использовать:

- `runtimeConfig`: приватные или публичные токены, которые нужно задать после сборки через переменные окружения.
- `app.config`: публичные значения, фиксируемые на этапе сборки — тема, заголовок и прочая нечувствительная конфигурация.

| Возможность              | `runtimeConfig` | `app.config` |
|--------------------------|-----------------|--------------|
| На клиенте               | Гидрация        | В бандле     |
| Переменные окружения     | ✅ Да            | ❌ Нет        |
| Реактивность             | ✅ Да            | ✅ Да         |
| Поддержка типов          | ✅ Частично      | ✅ Да         |
| Конфиг на запрос         | ❌ Нет           | ✅ Да         |
| Hot module replacement   | ❌ Нет           | ✅ Да         |
| Непримитивные типы JS    | ❌ Нет           | ✅ Да         |

## Внешние конфигурационные файлы

Nuxt использует [`nuxt.config.ts`](/docs/4.x/directory-structure/nuxt-config) как единственный источник правды и не читает отдельные внешние конфиги. При сборке может понадобиться настроить и их. Ниже — типичные конфиги и как их задать в Nuxt.

| Имя                              | Конфиг-файл             | Как настроить в Nuxt                                                       |
|----------------------------------|-------------------------|----------------------------------------------------------------------------|
| [Nitro](https://nitro.build)     | ~~`nitro.config.ts`~~   | Ключ [`nitro`](/docs/4.x/api/nuxt-config#nitro) в `nuxt.config`           |
| [PostCSS](https://postcss.org)   | ~~`postcss.config.js`~~ | Ключ [`postcss`](/docs/4.x/api/nuxt-config#postcss) в `nuxt.config`        |
| [Vite](https://vite.dev)         | ~~`vite.config.ts`~~    | Ключ [`vite`](/docs/4.x/api/nuxt-config#vite) в `nuxt.config`              |
| [webpack](https://webpack.js.org)| ~~`webpack.config.ts`~~| Ключ [`webpack`](/docs/4.x/api/nuxt-config#webpack-1) в `nuxt.config`     |

Другие распространённые конфиги:

| Имя                                         | Конфиг-файл           | Документация                                                                 |
|---------------------------------------------|------------------------|------------------------------------------------------------------------------|
| [TypeScript](https://www.typescriptlang.org)| `tsconfig.json`        | [Подробнее](/docs/4.x/directory-structure/tsconfig)                         |
| [ESLint](https://eslint.org)                | `eslint.config.js`     | [Подробнее](https://eslint.org/docs/latest/use/configure/configuration-files) |
| [Prettier](https://prettier.io)             | `prettier.config.js`   | [Подробнее](https://prettier.io/docs/configuration.html)                     |
| [Stylelint](https://stylelint.io)           | `stylelint.config.js`  | [Подробнее](https://stylelint.io/user-guide/configure/)                     |
| [TailwindCSS](https://tailwindcss.com)      | `tailwind.config.js`   | [Подробнее](https://tailwindcss.nuxtjs.org/tailwindcss/configuration/)      |
| [Vitest](https://vitest.dev)                 | `vitest.config.ts`     | [Подробнее](https://vitest.dev/config/)                                      |

## Конфигурация Vue

### С Vite

Опции для `@vitejs/plugin-vue` или `@vitejs/plugin-vue-jsx` задаются в `nuxt.config`:

- `vite.vue` для `@vitejs/plugin-vue`. [Доступные опции](https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue).
- `vite.vueJsx` для `@vitejs/plugin-vue-jsx`. [Доступные опции](https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue-jsx).

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  vite: {
    vue: {
      customElement: true,
    },
    vueJsx: {
      mergeProps: true,
    },
  },
})
```

:read-more{to="/docs/4.x/api/configuration/nuxt-config#vue"}

### С webpack

При использовании webpack настройка `vue-loader` задаётся ключом `webpack.loaders.vue` в `nuxt.config`. [Опции описаны здесь](https://github.com/vuejs/vue-loader/blob/main/src/index.ts#L32-L62).

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  webpack: {
    loaders: {
      vue: {
        hotReload: true,
      },
    },
  },
})
```

:read-more{to="/docs/4.x/api/configuration/nuxt-config#loaders"}

### Экспериментальные возможности Vue

Экспериментальные возможности Vue (например `propsDestructure`) можно включить в `nuxt.config.ts` независимо от сборщика:

```ts twoslash [nuxt.config.ts]
export default defineNuxtConfig({
  vue: {
    propsDestructure: true,
  },
})
```

#### Миграция экспериментального `reactivityTransform` с Vue 3.4 и Nuxt 3.9

Начиная с Nuxt 3.9 и Vue 3.4, `reactivityTransform` перенесён из Vue в Vue Macros, для которого есть [интеграция с Nuxt](https://vue-macros.dev/guide/nuxt-integration.html).

:read-more{to="/docs/4.x/api/configuration/nuxt-config#vue-1"}
