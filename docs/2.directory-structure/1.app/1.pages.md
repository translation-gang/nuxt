---
title: "pages (страницы)"
description: "Nuxt предоставляет файловую маршрутизацию для создания маршрутов в приложении."
head.title: "pages/"
navigation.icon: i-vscode-icons-folder-type-view
---

::note
Чтобы уменьшить размер бандла, эта директория **необязательна**: [`vue-router`](https://router.vuejs.org) не подключается, если используется только [`app.vue`](/docs/4.x/directory-structure/app/app). Чтобы принудительно включить страницы, задайте `pages: true` в `nuxt.config` или добавьте [`router.options.ts`](/docs/4.x/guide/recipes/custom-routing#using-routeroptions).
::

## Использование

Страницы — это Vue-компоненты с [поддерживаемыми расширениями](/docs/4.x/api/nuxt-config#extensions) (по умолчанию `.vue`, `.js`, `.jsx`, `.mjs`, `.ts`, `.tsx`).

Nuxt автоматически создаёт маршрут для каждого файла в `~/pages/`.

::code-group

```vue [app/pages/index.vue]
<template>
  <h1>Index page</h1>
</template>
```

```ts twoslash [pages/index.ts]
export default defineComponent({
  render () {
    return h('h1', 'Index page')
  },
})
```

```tsx twoslash [pages/index.tsx]
export default defineComponent({
  render () {
    return <h1>Index page</h1>
  },
})
```

::

Файл `app/pages/index.vue` соответствует маршруту `/`.

При использовании [`app.vue`](/docs/4.x/directory-structure/app/app) для отображения текущей страницы нужен компонент [`<NuxtPage/>`](/docs/4.x/api/components/nuxt-page):

```vue [app/app.vue]
<template>
  <div>
    <NuxtPage />
  </div>
</template>
```

У страницы **должен быть один корневой элемент** для [переходов между маршрутами](/docs/4.x/getting-started/transitions). HTML-комментарии тоже считаются элементами.

Примеры корректной и некорректной разметки:

::code-group

```vue [app/pages/working.vue]
<template>
  <div>
    Page content
  </div>
</template>
```

```vue [app/pages/bad-1.vue]
<template>
  <!-- Два корневых узла из-за комментария — переходы сломаются -->
  <div>Page content</div>
</template>
```

```vue [app/pages/bad-2.vue]
<template>
  <div>This page</div>
  <div>Has more than one root element</div>
</template>
```

::

## Динамические маршруты

Часть имени файла или папки в квадратных скобках становится [динамическим параметром](https://router.vuejs.org/guide/essentials/dynamic-matching). Можно комбинировать несколько параметров и обычный текст.

Для _опционального_ параметра используйте двойные скобки: `~/pages/[[slug]]/index.vue` или `~/pages/[[slug]].vue` совпадут и с `/`, и с `/test`.

```bash [Directory Structure]
-| pages/
---| index.vue
---| users-[group]/
-----| [id].vue
```

Доступ к `group` и `id` в компоненте — через `$route`:

```vue [app/pages/users-[group\\]/[id\\].vue]
<template>
  <p>{{ $route.params.group }} - {{ $route.params.id }}</p>
</template>
```

Для `/users-admins/123` будет: `<p>admins - 123</p>`.

В Composition API используйте глобальную функцию [`useRoute`](/docs/4.x/api/composables/use-route).

::note
Именованные родительские маршруты имеют приоритет над вложенными динамическими. Для `/foo/hello` выиграет `~/pages/foo.vue`, а не `~/pages/foo/[slug].vue`. Используйте `~/pages/foo/index.vue` и `~/pages/foo/[slug].vue` для разных страниц `/foo` и `/foo/hello`.
::

:video-accordion{title="Видео Vue School про динамические маршруты" videoId="754465699" platform="vimeo"}

## Catch-all маршрут

Файл вида `[...slug].vue` обрабатывает _все_ маршруты под этим путём.

```vue [app/pages/[...slug\\].vue]
<template>
  <p>{{ $route.params.slug }}</p>
</template>
```

Для `/hello/world`: `<p>["hello", "world"]</p>`.

## Вложенные маршруты

[Вложенные маршруты](https://router.vuejs.org/guide/essentials/nested-routes) отображаются через `<NuxtPage>`.

```bash [Directory Structure]
-| pages/
---| parent/
-----| child.vue
---| parent.vue
```

В `parent.vue` нужно вставить `<NuxtPage>` для вывода дочернего компонента:

```vue {}[pages/parent.vue]
<template>
  <div>
    <h1>I am the parent view</h1>
    <NuxtPage :foobar="123" />
  </div>
</template>
```

### Ключ дочернего маршрута

Чтобы управлять перерисовкой `<NuxtPage>` (например, для переходов), передайте строку или функцию в проп `pageKey` или задайте `key` в `definePageMeta`:

```vue {}[pages/parent.vue]
<template>
  <div>
    <NuxtPage :page-key="route => route.fullPath" />
  </div>
</template>
```

Или в дочерней странице: `definePageMeta({ key: route => route.fullPath })`.

:link-example{to="/docs/4.x/examples/routing/pages"}

## Группы маршрутов

Папка в круглых скобках `()` группирует маршруты без влияния на URL.

```bash [Directory structure]
-| pages/
---| index.vue
---| (marketing)/
-----| about.vue
-----| contact.vue
```

Получатся маршруты `/`, `/about`, `/contact`. Группа `marketing` в URL не участвует.

Группы доступны в `route.meta.groups`.

## Метаданные страницы

Метаданные маршрута задаются макросом `definePageMeta` в `<script>` или `<script setup>`:

```vue twoslash
<script setup lang="ts">
definePageMeta({
  title: 'My home page',
})
</script>
```

Данные доступны в приложении через `route.meta`. При вложенных маршрутах мета объединяется. Подробнее: [vue-router meta](https://router.vuejs.org/guide/advanced/meta).

`definePageMeta` — **компиляционный макрос**, его нельзя вызывать в коде компонента. Мета поднимается при компиляции, поэтому в объекте мета нельзя ссылаться на компонент, но можно на импорты и чистые функции.

::warning
Не используйте реактивные данные или функции с побочными эффектами — это может привести к неожиданному поведению.
::

### Специальные метаданные

#### `alias`

Алиасы страницы — доступ к той же странице по разным путям (строка или массив), см. [vue-router](https://router.vuejs.org/guide/essentials/redirect-and-alias#Alias).

#### `keepalive`

При `keepalive: true` Nuxt оборачивает страницу в [Vue `<KeepAlive>`](https://vuejs.org/guide/built-ins/keep-alive#keepalive). Для сохранения состояния родителя используйте `<NuxtPage keepalive />`. Значение по умолчанию задаётся [в nuxt.config](/docs/4.x/api/nuxt-config#keepalive).

#### `key`

См. [выше](/docs/4.x/directory-structure/app/pages#child-route-keys).

#### `layout`

Лейаут для маршрута: `false`, строка или ref/computed. [Подробнее о лейаутах](/docs/4.x/directory-structure/app/layouts).

#### `layoutTransition` и `pageTransition`

Настройки для `<transition>` вокруг страницы и лейаута; `false` отключает обёртку. [Опции Transition](https://vuejs.org/api/built-in-components#transition), [переходы](https://vuejs.org/guide/built-ins/transition#transition). Значения по умолчанию — [в nuxt.config](/docs/4.x/api/nuxt-config#layouttransition).

#### `middleware`

Мидлвар перед загрузкой страницы (строка, функция или массив). [Именованный мидлвар](/docs/4.x/directory-structure/app/middleware).

#### `name`, `path`, `props`

Имя маршрута, кастомный path matcher, передача `params` как пропсов — см. [vue-router](https://router.vuejs.org).

### Типизация кастомных метаданных

```ts [index.d.ts]
declare module '#app' {
  interface PageMeta {
    pageType?: string
  }
}
export {}
```

## Навигация

Для ссылок между страницами используйте компонент [`<NuxtLink>`](/docs/4.x/api/components/nuxt-link).

## Программная навигация

Через утилиту `navigateTo()` можно переходить программно. Всегда `await`-йте результат или возвращайте его из функции.

## Только клиент / только сервер

Страница только для клиента: суффикс [`.client.vue`](/docs/4.x/directory-structure/app/components#client-components). Только для сервера: [`.server.vue`](/docs/4.x/directory-structure/app/components#server-components); при клиентской навигации страница рендерится как серверный компонент, код не попадает в клиентский бандл.

::warning
Страницы только для сервера должны иметь один корневой элемент.
::

## Кастомная маршрутизация

При усложнении приложения маршрутизацию можно настраивать: роутер, маршруты и опции роутера доступны для кастомизации.

:read-more{to="/docs/4.x/guide/recipes/custom-routing"}

## Несколько директорий pages

По умолчанию все страницы в одной `app/pages`. [Nuxt Layers](/docs/4.x/getting-started/layers) позволяют объединять страницы из разных источников.

:read-more{to="/docs/4.x/guide/going-further/layers"}
