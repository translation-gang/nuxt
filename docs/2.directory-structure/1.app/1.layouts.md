---
title: "layouts"
head.title: "layouts/"
description: "Nuxt предоставляет систему лейаутов для вынесения общей разметки в переиспользуемые шаблоны."
navigation.icon: i-vscode-icons-folder-type-view
---

::tip{icon="i-lucide-rocket" }
Компоненты из этой директории при использовании подгружаются асинхронно для лучшей производительности.
::

## Включение лейаутов

Лейауты включаются добавлением [`<NuxtLayout>`](/docs/4.x/api/components/nuxt-layout) в [`app.vue`](/docs/4.x/directory-structure/app/app):

```vue [app/app.vue]
<template>
  <NuxtLayout>
    <NuxtPage />
  </NuxtLayout>
</template>
```

Чтобы задать лейаут:
- Укажите свойство `layout` на странице через [definePageMeta](/docs/4.x/api/utils/define-page-meta).
- Задайте проп `name` у `<NuxtLayout>`.
- Либо свойство `appLayout` в route rules.

::note
Имя лейаута приводится к kebab-case: `someLayout` → `some-layout`.
::

::note
Если лейаут не указан, используется `app/layouts/default.vue`.
::

::important
Если в приложении один лейаут, лучше обойтись без директории layouts и задать разметку в [`app.vue`](/docs/4.x/directory-structure/app/app).
::

::important
В отличие от остальных компонентов, у лейаутов должен быть один корневой элемент (и не `<slot />`), чтобы Nuxt мог применять переходы при смене лейаута.
::

## Лейаут по умолчанию

Добавьте `~/layouts/default.vue`:

```vue [app/layouts/default.vue]
<template>
  <div>
    <p>Общая разметка для всех страниц</p>
    <slot />
  </div>
</template>
```

Содержимое страницы выводится в компоненте `<slot />`.

## Именованный лейаут

```bash [Структура каталогов]
-| layouts/
---| default.vue
---| custom.vue
```

Использование лейаута `custom` на странице:

```vue twoslash [pages/about.vue]
<script setup lang="ts">
declare module 'nuxt/app' {
  interface NuxtLayouts {
    'custom': unknown
  }
}
// ---cut---
definePageMeta({
  layout: 'custom',
})
</script>
```

::read-more{to="/docs/4.x/directory-structure/app/pages#page-metadata"}
Подробнее о `definePageMeta`.
::

Лейаут по умолчанию для всех страниц можно переопределить пропом `name` у [`<NuxtLayout>`](/docs/4.x/api/components/nuxt-layout):

```vue [app/app.vue]
<script setup lang="ts">
// Например, в зависимости от API или статуса авторизации
const layout = 'custom'
</script>

<template>
  <NuxtLayout :name="layout">
    <NuxtPage />
  </NuxtLayout>
</template>
```

Для лейаутов во вложенных папках имя строится из пути и имени файла, повторяющиеся сегменты убираются.

Файл | Имя лейаута
-- | --
`~/layouts/desktop/default.vue` | `desktop-default`
`~/layouts/desktop-base/base.vue` | `desktop-base`
`~/layouts/desktop/index.vue` | `desktop`

Рекомендуется, чтобы имя файла совпадало с именем лейаута:

Файл | Имя лейаута
-- | --
`~/layouts/desktop/DesktopDefault.vue` | `desktop-default`
`~/layouts/desktop-base/DesktopBase.vue` | `desktop-base`
`~/layouts/desktop/Desktop.vue` | `desktop`

:link-example{to="/docs/4.x/examples/features/layouts"}

## Смена лейаута во время работы

Используйте хелпер [`setPageLayout`](/docs/4.x/api/utils/set-page-layout):

```vue twoslash
<script setup lang="ts">
declare module 'nuxt/app' {
  interface NuxtLayouts {
    'custom': unknown
  }
}
// ---cut---
function enableCustomLayout () {
  setPageLayout('custom')
}
definePageMeta({
  layout: false,
})
</script>

<template>
  <div>
    <button @click="enableCustomLayout">
      Сменить лейаут
    </button>
  </div>
</template>
```

Лейаут для конкретных маршрутов можно задать через свойство `appLayout` в route rules:

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  routeRules: {
    // Лейаут для маршрута
    '/admin': { appLayout: 'admin' },
    // Лейаут для нескольких маршрутов
    '/dashboard/**': { appLayout: 'dashboard' },
    // Отключить лейаут для маршрута
    '/landing': { appLayout: false },
  },
})
```

::tip
Удобно, когда лейауты задаются в конфиге, а не в каждом файле страницы, или когда нужно применить лейаут к маршрутам без страниц (например, catch-all).
::

:link-example{to="/docs/4.x/examples/features/layouts"}

## Переопределение лейаута на странице

При использовании страниц можно отключить лейаут через `layout: false` и использовать `<NuxtLayout>` прямо на странице.

::code-group

```vue [app/pages/index.vue]
<script setup lang="ts">
definePageMeta({
  layout: false,
})
</script>

<template>
  <div>
    <NuxtLayout name="custom">
      <template #header>
        Содержимое шапки.
      </template>

      Остальное содержимое страницы
    </NuxtLayout>
  </div>
</template>
```

```vue [app/layouts/custom.vue]
<template>
  <div>
    <header>
      <slot name="header">
        Содержимое шапки по умолчанию
      </slot>
    </header>
    <main>
      <slot />
    </main>
  </div>
</template>
```

::

::important
Если `<NuxtLayout>` используется внутри страницы, он не должен быть корневым элементом (или [отключите переходы для лейаута/страницы](/docs/4.x/getting-started/transitions#disable-transitions)).
::
