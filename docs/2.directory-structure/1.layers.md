---
title: 'layers'
head.title: 'layers/'
description: Директория layers/ служит для организации и автоматической регистрации локальных слоёв в приложении.
navigation.icon: i-vscode-icons-folder-type-nuxt
---

Директория `layers/` позволяет организовывать и переиспользовать код, компоненты, композаблы и конфигурации. Слои из этой директории в проекте регистрируются автоматически.

::note
Авторегистрация директории `layers/` доступна в Nuxt v3.12.0+.
::

::tip{icon="i-lucide-lightbulb"}
Слои удобны для больших кодовых баз в стиле **Domain-Driven Design (DDD)**, переиспользуемых **UI-библиотек** и **тем**, общих **пресетов конфигурации** и вынесения **админ-панелей** или **фичевых модулей**.
::

## Структура

Каждая поддиректория в `layers/` считается отдельным слоем. Слой может повторять структуру обычного приложения Nuxt.

::important
У каждого слоя **должен быть** файл `nuxt.config.ts`, иначе он не считается валидным (файл может быть пустым).
::

```bash [Directory structure]
-| layers/
---| base/
-----| nuxt.config.ts
-----| app/
-------| components/
---------| BaseButton.vue
-------| composables/
---------| useBase.ts
-----| server/
-------| api/
---------| hello.ts
---| admin/
-----| nuxt.config.ts
-----| app/
-------| pages/
---------| admin.vue
-------| layouts/
---------| admin.vue
```

## Алиасы слоёв

Для каждого слоя автоматически создаётся алиас к его `srcDir`. Обращение к слою: `#layers/[name]`:

```ts
// Слой base
import something from '#layers/base/path/to/file'

// Слой admin
import { useAdmin } from '#layers/admin/composables/useAdmin'
```

::note
Алиасы слоёв появились в Nuxt v3.16.0.
::

## Содержимое слоя

В слое могут быть:

- [`nuxt.config.ts`](/docs/4.x/directory-structure/nuxt-config) — конфигурация слоя (мержится с основной)
- [`app.config.ts`](/docs/4.x/directory-structure/app/app-config) — реактивная конфигурация приложения
- [`app/components/`](/docs/4.x/directory-structure/app/components) — Vue-компоненты (автоимпорт)
- [`app/composables/`](/docs/4.x/directory-structure/app/composables) — композаблы (автоимпорт)
- [`app/utils/`](/docs/4.x/directory-structure/app/utils) — утилиты (автоимпорт)
- [`app/pages/`](/docs/4.x/directory-structure/app/pages) — страницы
- [`app/layouts/`](/docs/4.x/directory-structure/app/layouts) — лейауты
- [`app/middleware/`](/docs/4.x/directory-structure/app/middleware) — мидлвар маршрутов
- [`app/plugins/`](/docs/4.x/directory-structure/app/plugins) — плагины Nuxt
- [`server/`](/docs/4.x/directory-structure/server) — серверные маршруты, мидлвар и утилиты
- [`shared/`](/docs/4.x/directory-structure/shared) — общий код для app и server

## Порядок приоритета

Если один и тот же ресурс (компонент, композабл, страница и т.д.) определён в нескольких слоях, побеждает слой с **более высоким приоритетом**. Слои сортируются по алфавиту, буквы ближе к концу алфавита имеют больший приоритет (Z > A).

Чтобы задать порядок, добавьте числовой префикс: `1.base/`, `2.features/`, `3.admin/`.

:read-more{to="/docs/4.x/getting-started/layers#layer-priority"}

:video-accordion{title="Видео Learn Vue о слоях Nuxt" videoId="lnFCM7c9f7I"}
