---
title: 'Хуки жизненного цикла'
description: "Система хуков Nuxt для расширения практически любой части приложения."
---

:read-more{to="/docs/4.x/guide/going-further/hooks"}

## Хуки приложения (runtime)

Полный список хуков — в [исходном коде приложения](https://github.com/nuxt/nuxt/blob/main/packages/nuxt/src/app/nuxt.ts#L37).

| Хук                          | Аргументы           | Окружение       | Описание                                                                                                                                                                           |
|------------------------------|---------------------|-----------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `app:created`                | `vueApp`            | Server & Client | Вызывается при создании экземпляра `vueApp`. |
| `app:error`                  | `err`               | Server & Client | Вызывается при фатальной ошибке. |
| `app:error:cleared`          | `{ redirect? }`     | Server & Client | Вызывается после очистки фатальной ошибки. |
| `vue:setup`                  | -                   | Server & Client | Вызывается при инициализации корня Nuxt. Колбэк должен быть синхронным. |
| `vue:error`                  | `err, target, info` | Server & Client | Вызывается, когда ошибка Vue доходит до корневого компонента. [Подробнее](https://vuejs.org/api/composition-api-lifecycle#onerrorcaptured). |
| `app:rendered`               | `renderContext`     | Server          | Вызывается по завершении SSR-рендеринга. |
| `app:redirected`             | -                   | Server          | Вызывается перед SSR-редиректом. |
| `app:beforeMount`            | `vueApp`            | Client          | Вызывается перед монтированием приложения (только на клиенте). |
| `app:mounted`                | `vueApp`            | Client          | Вызывается, когда Vue-приложение смонтировано в браузере. |
| `app:suspense:resolve`       | `appComponent`      | Client          | Событие [Suspense](https://vuejs.org/guide/built-ins/suspense#suspense) resolved. |
| `app:manifest:update`        | `{ id, timestamp }` | Client          | Вызывается при обнаружении новой версии приложения. |
| `app:data:refresh`           | `keys?`             | Client          | Вызывается при вызове `refreshNuxtData`. |
| `link:prefetch`              | `to`                | Client          | Вызывается при prefetch для `<NuxtLink>`. |
| `page:start`                 | `pageComponent?`    | Client          | Событие [Suspense](https://vuejs.org/guide/built-ins/suspense#suspense) pending внутри `NuxtPage`. |
| `page:finish`                | `pageComponent?`    | Client          | Событие [Suspense](https://vuejs.org/guide/built-ins/suspense#suspense) resolved внутри `NuxtPage`. |
| `page:loading:start`         | -                   | Client          | Вызывается при запуске `setup()` новой страницы. |
| `page:loading:end`           | -                   | Client          | Вызывается после `page:finish`. |
| `page:transition:finish`     | `pageComponent?`    | Client          | После перехода страницы ([onAfterLeave](https://vuejs.org/guide/built-ins/transition#javascript-hooks)). |
| `dev:ssr-logs`               | `logs`              | Client          | Вызывается с массивом серверных логов, переданных на клиент (если включено `features.devLogs`). |
| `page:view-transition:start` | `transition`        | Client          | Вызывается после `document.startViewTransition` при [включённом viewTransition](/docs/4.x/getting-started/transitions#view-transitions-api-experimental). |

## Хуки Nuxt (время сборки)

Полный список — в [исходном коде схемы](https://github.com/nuxt/nuxt/blob/main/packages/schema/src/types/hooks.ts#L83).

| Хук                         | Аргументы                                                | Описание                                                                                                                                                                                                                                                                                  |
|-----------------------------|----------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `kit:compatibility`         | `compatibility, issues`                                  | Расширение проверок совместимости. |
| `ready`                     | `nuxt`                                                   | Вызывается после инициализации Nuxt, когда экземпляр готов к работе. |
| `close`                     | `nuxt`                                                   | Вызывается при корректном завершении экземпляра Nuxt. |
| `restart`                   | `{ hard?: boolean }`                                     | Вызывается для перезапуска текущего экземпляра Nuxt. |
| `modules:before`            | -                                                        | Вызывается при инициализации Nuxt, до установки пользовательских модулей. |
| `modules:done`              | -                                                        | Вызывается после установки пользовательских модулей. |
| `app:resolve`               | `app`                                                    | Вызывается после разрешения экземпляра `app`. |
| `app:templates`             | `app`                                                    | Вызывается при генерации NuxtApp — можно добавлять или менять файлы в build-директории (виртуально или в `.nuxt`). |
| `app:templatesGenerated`    | `app`                                                    | Вызывается после компиляции шаблонов в [виртуальную ФС](/docs/4.x/directory-structure/nuxt). |
| `build:before`              | -                                                        | Вызывается перед сборкой бандла Nuxt. |
| `build:done`                | -                                                        | Вызывается после завершения сборки бандла. |
| `build:manifest`            | `manifest`                                               | Вызывается при сборке манифеста (Vite/webpack). Позволяет менять манифест для тегов `<script>` и `<link>` в HTML. |
| `builder:generateApp`       | `options`                                                | Вызывается перед генерацией приложения. |
| `builder:watch`             | `event, path`                                            | Вызывается в dev при изменении файла или каталога в проекте. |
| `pages:extend`              | `pages`                                                  | Вызывается после сканирования маршрутов страниц из файловой системы. |
| `pages:resolved`            | `pages`                                                  | Вызывается после дополнения маршрутов отсканированными метаданными. |
| `pages:routerOptions`       | `{ files: Array<{ path: string, optional?: boolean }> }` | Вызывается при разрешении файлов `router.options`. Более поздние элементы переопределяют ранние. |
| `server:devHandler`         | `handler`                                                | Вызывается при регистрации dev-middleware на Nitro dev-сервере. |
| `imports:sources`           | `presets`                                                | Вызывается при setup — модули могут расширять источники импортов. |
| `imports:extend`            | `imports`                                                | Вызывается при setup — модули могут расширять список импортов. |
| `imports:context`           | `context`                                                | Вызывается при создании контекста [unimport](https://github.com/unjs/unimport). |
| `imports:dirs`              | `dirs`                                                   | Расширение каталогов для импортов. |
| `components:dirs`           | `dirs`                                                   | Вызывается в `app:resolve` — расширение каталогов для автоимпорта компонентов. |
| `components:extend`         | `components`                                             | Расширение списка компонентов. |
| `nitro:config`              | `nitroConfig`                                            | Вызывается перед инициализацией Nitro — настройка конфигурации Nitro. |
| `nitro:init`                | `nitro`                                                  | Вызывается после инициализации Nitro — регистрация хуков и работа с Nitro. |
| `nitro:build:before`        | `nitro`                                                  | Вызывается перед сборкой Nitro. |
| `nitro:build:public-assets` | `nitro`                                                  | Вызывается после копирования public-ресурсов. Позволяет менять их перед сборкой Nitro. |
| `prerender:routes`          | `ctx`                                                    | Расширение списка маршрутов для пререндеринга. |
| `build:error`               | `error`                                                  | Вызывается при ошибке сборки. |
| `prepare:types`             | `options`                                                | Вызывается перед записью TS-конфигов (`.nuxt/tsconfig.*.json`, `nuxt.d.ts`) — можно добавлять references и декларации. |
| `listen`                    | `listenerServer, listener`                               | Вызывается при запуске dev-сервера. |
| `schema:extend`             | `schemas`                                                | Расширение схем по умолчанию. |
| `schema:resolved`           | `schema`                                                 | Расширение разрешённой схемы. |
| `schema:beforeWrite`        | `schema`                                                 | Вызывается перед записью схемы. |
| `schema:written`            | -                                                        | Вызывается после записи схемы. |
| `vite:extend`               | `viteBuildContext`                                       | Расширение контекста Vite. |
| `vite:extendConfig`         | `viteInlineConfig, env`                                  | Расширение конфигурации Vite. **Устарело в Nuxt 5+.** В Nuxt 5 используется общая конфигурация. |
| `vite:configResolved`       | `viteInlineConfig, env`                                  | Доступ к разрешённой конфигурации Vite. **Устарело в Nuxt 5+.** В Nuxt 5 — общая конфигурация. |
| `vite:serverCreated`        | `viteServer, env`                                        | Вызывается при создании Vite-сервера. |
| `vite:compiled`             | -                                                        | Вызывается после компиляции Vite-сервера. |
| `webpack:config`            | `webpackConfigs`                                         | Вызывается перед настройкой компилятора webpack. |
| `webpack:configResolved`    | `webpackConfigs`                                         | Доступ к разрешённой конфигурации webpack. |
| `webpack:compile`           | `options`                                                | Вызывается непосредственно перед компиляцией. |
| `webpack:compiled`          | `options`                                                | Вызывается после загрузки ресурсов. |
| `webpack:change`            | `shortPath`                                              | Событие `change` в WebpackBar. |
| `webpack:error`             | -                                                        | Событие `done` при ошибках в WebpackBar. |
| `webpack:done`              | -                                                        | Событие `allDone` в WebpackBar. |
| `webpack:progress`          | `statesArray`                                            | Событие `progress` в WebpackBar. |

## Хуки Nitro (runtime, сервер)

См. [Nitro](https://nitro.build/guide/plugins#available-hooks) для полного списка хуков.

| Хук               | Аргументы                                  | Описание | Types                                                                                                                                                                                                                                                                                                                                                                                                   |
|-------------------|--------------------------------------------|---------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `dev:ssr-logs`    | `{ path, logs }`                           | Вызывается в конце цикла запроса с массивом серверных логов.                                                                                                                                                                                                                                                                                                                                 |
| `render:response` | `response, { event }`                      | Вызывается перед отправкой ответа. | [response](https://github.com/nuxt/nuxt/blob/71ef8bd3ff207fd51c2ca18d5a8c7140476780c7/packages/nuxt/src/core/runtime/nitro/renderer.ts#L24), [event](https://github.com/h3js/h3/blob/f6ceb5581043dc4d8b6eab91e9be4531e0c30f8e/src/types.ts#L38)                                                                                                                                                         |
| `render:html`     | `html, { event }`                          | Вызывается перед формированием HTML. | [html](https://github.com/nuxt/nuxt/blob/71ef8bd3ff207fd51c2ca18d5a8c7140476780c7/packages/nuxt/src/core/runtime/nitro/renderer.ts#L15), [event](https://github.com/h3js/h3/blob/f6ceb5581043dc4d8b6eab91e9be4531e0c30f8e/src/types.ts#L38)                                                                                                                                                             |
| `render:island`   | `islandResponse, { event, islandContext }` | Вызывается перед формированием HTML острова. | [islandResponse](https://github.com/nuxt/nuxt/blob/e50cabfed1984c341af0d0c056a325a8aec26980/packages/nuxt/src/core/runtime/nitro/renderer.ts#L28), [event](https://github.com/h3js/h3/blob/f6ceb5581043dc4d8b6eab91e9be4531e0c30f8e/src/types.ts#L38), [islandContext](https://github.com/nuxt/nuxt/blob/e50cabfed1984c341af0d0c056a325a8aec26980/packages/nuxt/src/core/runtime/nitro/renderer.ts#L38) |
| `close`           | -                                          | Вызывается при закрытии Nitro. | -                                                                                                                                                                                                                                                                                                                                                                                                       |
| `error`           | `error, { event? }`                        | Вызывается при ошибке. | [error](https://github.com/nitrojs/nitro/blob/d20ffcbd16fc4003b774445e1a01e698c2bb078a/src/types/runtime/nitro.ts#L48), [event](https://github.com/h3js/h3/blob/f6ceb5581043dc4d8b6eab91e9be4531e0c30f8e/src/types.ts#L38)                                                                                                                                                                              |
| `request`         | `event`                                    | Вызывается при получении запроса. | [event](https://github.com/h3js/h3/blob/f6ceb5581043dc4d8b6eab91e9be4531e0c30f8e/src/types.ts#L38)                                                                                                                                                                                                                                                                                                      |
| `beforeResponse`  | `event, { body }`                          | Вызывается перед отправкой ответа. | [event](https://github.com/h3js/h3/blob/f6ceb5581043dc4d8b6eab91e9be4531e0c30f8e/src/types.ts#L38), unknown                                                                                                                                                                                                                                                                                             |
| `afterResponse`   | `event, { body }`                          | Вызывается после отправки ответа. | [event](https://github.com/h3js/h3/blob/f6ceb5581043dc4d8b6eab91e9be4531e0c30f8e/src/types.ts#L38), unknown                                                                                                                                                                                                                                                                                             |
