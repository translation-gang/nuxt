---
title: "<NuxtPage>"
description: "Компонент <NuxtPage> отображает страницы из директории pages/."
links:
  - label: Source
    icon: i-simple-icons-github
    to: https://github.com/nuxt/nuxt/blob/main/packages/nuxt/src/pages/runtime/page.ts
    size: xs
---

`<NuxtPage>` — встроенный компонент Nuxt. Он отображает страницы верхнего уровня и вложенные из директории [`app/pages/`](/docs/4.x/directory-structure/app/pages).

::note
`<NuxtPage>` — обёртка над [`<RouterView>`](https://router.vuejs.org/api/interfaces/routerviewprops) из Vue Router. Используйте его вместо `<RouterView>`, так как он корректно учитывает внутреннее состояние. Иначе `useRoute()` может возвращать неверные пути.
::

`<NuxtPage>` по сути включает следующие компоненты:

```vue
<template>
  <RouterView v-slot="{ Component }">
    <!-- Optional, when using transitions -->
    <Transition>
      <!-- Optional, when using keep-alive -->
      <KeepAlive>
        <Suspense>
          <component :is="Component" />
        </Suspense>
      </KeepAlive>
    </Transition>
  </RouterView>
</template>
```

По умолчанию Nuxt не включает `<Transition>` и `<KeepAlive>`. Их можно включить в nuxt.config или через пропсы `transition` и `keepalive` у `<NuxtPage>`. Для отдельной страницы настройки задаются в `definePageMeta` в компоненте страницы.

::warning
Если включаете `<Transition>` на странице, у неё должен быть один корневой элемент.
::

Поскольку `<NuxtPage>` использует внутри `<Suspense>`, жизненный цикл компонентов при смене страницы отличается от обычного Vue-приложения.

В обычном Vue-приложении новый компонент страницы монтируется **только после** полного размонтирования предыдущего. В Nuxt из-за реализации Vue `<Suspense>` новый компонент страницы монтируется **до** размонтирования предыдущего.  

## Пропсы

- `name`: указывает `<RouterView>` имя компонента из опции components совпавшего маршрута.
  - тип: `string`
- `route`: объект маршрута с разрешёнными компонентами.
  - тип: `RouteLocationNormalized`
- `pageKey`: управляет тем, когда компонент `NuxtPage` перерисовывается.
  - тип: `string` или `function`
- `transition`: глобальные переходы для всех страниц, отображаемых через `NuxtPage`.
  - тип: `boolean` или [`TransitionProps`](https://vuejs.org/api/built-in-components#transition)
- `keepalive`: сохранение состояния страниц при переключении.
  - тип: `boolean` или [`KeepAliveProps`](https://vuejs.org/api/built-in-components#keepalive)

::tip
Nuxt автоматически определяет `name` и `route`, сканируя Vue-компоненты в директории `/pages`.
::

## Пример

Если передать ключ, который не меняется, `<NuxtPage>` отрендерится только один раз — при первом монтировании.

```vue [app/app.vue]
<template>
  <NuxtPage page-key="static" />
</template>
```

Можно задать динамический ключ на основе текущего маршрута:

```html
<NuxtPage :page-key="route => route.fullPath" />
```

::warning
Не используйте здесь объект `$route` — это может нарушить отрисовку страниц с `<Suspense>`.
::

Ключ `pageKey` также можно задать через [`definePageMeta`](/docs/4.x/api/utils/define-page-meta) в `<script>` компонента страницы в `/pages`.

```vue [app/pages/my-page.vue]
<script setup lang="ts">
definePageMeta({
  key: route => route.fullPath,
})
</script>
```

:link-example{to="/docs/4.x/examples/routing/pages"}

## Ref страницы

Чтобы получить `ref` компонента страницы, используйте `ref.value.pageRef`

````vue [app/app.vue]
<script setup lang="ts">
const page = ref()

function logFoo () {
  page.value.pageRef.foo()
}
</script>

<template>
  <NuxtPage ref="page" />
</template>
````

````vue [my-page.vue]
<script setup lang="ts">
const foo = () => {
  console.log('foo method called')
}

defineExpose({
  foo,
})
</script>
````

## Собственные пропсы

`<NuxtPage>` также принимает произвольные пропсы, которые можно передавать вниз по иерархии.

В примере ниже значение `foobar` передаётся в `NuxtPage`, а затем в компоненты страниц.

```vue [app/app.vue]
<template>
  <NuxtPage :foobar="123" />
</template>
```

В компоненте страницы проп `foobar` доступен так:

```vue [app/pages/page.vue]
<script setup lang="ts">
const props = defineProps<{ foobar: number }>()

console.log(props.foobar) // 123
</script>
```

Если проп не объявлен через `defineProps`, переданные в `<NuxtPage>` пропсы всё равно доступны через `attrs` страницы:

```vue [app/pages/page.vue]
<script setup lang="ts">
const attrs = useAttrs()
console.log(attrs.foobar) // 123
</script>
```

:read-more{to="/docs/4.x/directory-structure/app/pages"}
